*** a/Dockerfile
--- b/Dockerfile
@@
-FROM rust:latest
-
-# naive build - replace with multi-stage to reduce final image size
-RUN apt-get update && apt-get install -y nodejs npm && rm -rf /var/lib/apt/lists/*
-
-COPY . /app
-WORKDIR /app
-
-RUN cargo build --release
-
-EXPOSE 3000
-CMD ["./target/release/horizcoin-node"]
+### Multi-stage: build Rust artifacts, then produce a slim runtime image ###
+FROM rust:1.70 as builder
+WORKDIR /workspace
+COPY . .
+# Build release artifacts
+RUN rustup target add x86_64-unknown-linux-gnu || true
+RUN cargo build --workspace --release
+
+### Build minimal Node front-end assets (if present) ###
+FROM node:18 as nodebuilder
+WORKDIR /web
+COPY web/package.json web/package-lock.json ./web/
+WORKDIR /workspace/web
+COPY web ./web
+RUN cd web && npm ci && npm run build || echo "no web build script"
+
+### Final image: small runtime ###
+FROM debian:bookworm-slim
+RUN apt-get update && apt-get install -y ca-certificates && rm -rf /var/lib/apt/lists/*
+WORKDIR /app
+COPY --from=builder /workspace/target/release/horizcoin-node ./horizcoin-node
+COPY --from=nodebuilder /workspace/web/dist ./web/dist || true
+EXPOSE 3000
+ENV PORT=3000
+CMD ["./horizcoin-node"]
